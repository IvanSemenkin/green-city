from app import create_app, db
from app.models import EcoTip

app = create_app()

def add_eco_tips():
    with app.app_context():
        # Удаляем существующие советы
        EcoTip.query.delete()
        
        # Создаем тестовые советы
        tips = [
            EcoTip(
                title="Раздельный сбор мусора",
                description="Начните сортировать отходы по категориям: пластик, стекло, бумага, металл. Это поможет правильно перерабатывать отходы и уменьшить загрязнение окружающей среды.",
                category="waste",
                difficulty="easy",
                points=10
            ),
            EcoTip(
                title="Экономия воды",
                description="Установите аэраторы на краны, используйте режим экономии воды в стиральной машине, закрывайте кран во время чистки зубов. Эти простые действия помогут сэкономить тысячи литров воды в год.",
                category="water",
                difficulty="easy",
                points=5
            ),
            EcoTip(
                title="Энергоэффективное освещение",
                description="Замените обычные лампочки на светодиодные. Они потребляют меньше электроэнергии и служат дольше, что поможет сократить ваши расходы и углеродный след.",
                category="energy",
                difficulty="medium",
                points=15
            ),
            EcoTip(
                title="Велосипед вместо авто",
                description="Используйте велосипед для коротких поездок вместо автомобиля. Это сократит выбросы CO2, улучшит ваше здоровье и поможет разгрузить городские дороги.",
                category="transport",
                difficulty="medium",
                points=20
            ),
            EcoTip(
                title="Местная и сезонная еда",
                description="Покупайте продукты местного производства и сезонные овощи и фрукты. Это сократит углеродный след от транспортировки и поддержит местных фермеров.",
                category="food",
                difficulty="hard",
                points=25
            ),
            EcoTip(
                title="Минимализм в покупках",
                description="Перед покупкой новой вещи спросите себя: действительно ли она мне нужна? Откажитесь от импульсивных покупок, отдавайте предпочтение качественным и долговечным товарам.",
                category="consumption",
                difficulty="hard",
                points=30
            )
        ]
        
        # Добавляем советы в сессию
        db.session.add_all(tips)
        
        # Сохраняем изменения
        db.session.commit()
        print("Советы по экологичному образу жизни успешно добавлены!")

if __name__ == '__main__':
    add_eco_tips()
